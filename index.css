/* Base typography and smoothing */
html, body {
  margin: 0;
  padding: 0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ---------- GLOBAL ACCENT (updated via JS) ---------- */
:root {
  /* This will be overwritten by JS on load and when user clicks presets */
  --accent: #000000;
  --accent-contrast: #ffffff;
}

/* ---------- LIGHT THEME (default) ---------- */
:root,
:root.light {
  --md-sys-color-background: #ffffff;
  --md-sys-color-on-background: #1e293b;

  --md-sys-color-surface: #f2f4f7;
  --md-sys-color-on-surface: #111827;

  --md-sys-color-surface-variant: #e9edf3;
  --md-sys-color-outline: #d1d8e3;

  /* These are tied to --accent dynamically by JS */
  --md-sys-color-primary: var(--accent);
  --md-sys-color-on-primary: var(--accent-contrast);
  --md-sys-color-secondary: var(--accent);
  --md-sys-color-on-secondary: var(--accent-contrast);

  --brand-radius: 18px;
  color-scheme: light;
}

/* ---------- DARK THEME ---------- */
:root.dark {
  /* Your requested dark background */
  --md-sys-color-background: #1b1c1e;
  --md-sys-color-on-background: #e7e9ea;

  --md-sys-color-surface: #2a2b2e;
  --md-sys-color-on-surface: #e7e9ea;

  --md-sys-color-surface-variant: #313236;
  --md-sys-color-outline: #3b3d42;

  /* Primaries remain tied to accent */
  --md-sys-color-primary: var(--accent);
  --md-sys-color-on-primary: var(--accent-contrast);
  --md-sys-color-secondary: var(--accent);
  --md-sys-color-on-secondary: var(--accent-contrast);

  --brand-radius: 18px;
  color-scheme: dark;
}

/* Apply background & text automatically from tokens */
body {
  background: var(--md-sys-color-background);
  color: var(--md-sys-color-on-background);
}

/* -------------- Accent-driven utilities -------------- */

/* Buttons: anything with these classes will follow accent */
.btn-primary,
button.btn-primary,
a.btn-primary,
button[data-variant="primary"],
.button-primary {
  background: var(--md-sys-color-primary);
  color: var(--md-sys-color-on-primary);
  border: 1px solid var(--md-sys-color-primary);
  border-radius: var(--brand-radius);
}

.btn-primary:hover,
button.btn-primary:hover,
a.btn-primary:hover,
button[data-variant="primary"]:hover,
.button-primary:hover {
  filter: brightness(0.92);
}

.btn-outline,
button.btn-outline,
a.btn-outline,
button[data-variant="outline"],
.button-outline {
  background: transparent;
  color: var(--md-sys-color-primary);
  border: 1px solid var(--md-sys-color-primary);
  border-radius: var(--brand-radius);
}

.btn-outline:hover,
button.btn-outline:hover,
a.btn-outline:hover,
button[data-variant="outline"]:hover,
.button-outline:hover {
  background: color-mix(in srgb, var(--md-sys-color-primary) 10%, var(--md-sys-color-surface));
}

/* Links */
a,
.link-accent {
  color: var(--md-sys-color-primary);
}
a:hover,
.link-accent:hover {
  opacity: 0.9;
  text-decoration: underline;
}

/* Pills / Chips / Tags */
.chip, .badge, .tag, .pill,
[class*="chip"], [class*="badge"], [class*="tag"], [class*="pill"] {
  background: color-mix(in srgb, var(--md-sys-color-primary) 8%, var(--md-sys-color-surface));
  color: var(--md-sys-color-on-surface);
  border: 1px solid color-mix(in srgb, var(--md-sys-color-primary) 30%, var(--md-sys-color-outline));
  border-radius: 9999px;
}

/* Cards (ensure they react to theme tokens) */
.df-surface, .card {
  background: var(--md-sys-color-surface);
  color: var(--md-sys-color-on-surface);
  border: 1px solid var(--md-sys-color-outline);
  border-radius: var(--brand-radius);
}

/* Section headings can accent the underline/border if used */
.section-accent-border {
  border-bottom: 3px solid var(--md-sys-color-primary);
}

/* Nav active bubble if you use one */
.nav-active, .active-bubble {
  background: color-mix(in srgb, var(--md-sys-color-primary) 15%, var(--md-sys-color-surface));
  color: var(--md-sys-color-on-surface);
  border: 1px solid color-mix(in srgb, var(--md-sys-color-primary) 35%, var(--md-sys-color-outline));
  border-radius: 9999px;
}

/* Optional micro animations */
@keyframes scroll { from { transform: translateX(0) } to { transform: translateX(-100%) } }
.animate-scroll { animation: scroll 60s linear infinite; }
